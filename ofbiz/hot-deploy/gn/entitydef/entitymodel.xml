<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of Gn Component</title>
    <description>None</description>
    <copyright>Memelabs.it</copyright>
    <version>1.0</version>

    <entity entity-name="GnPartyNode" package-name="it.memelabs.gn.model.organization"
            title="Abstract Node">

        <!--Identifiable-->
        <!--id-->
        <field name="partyId" type="id-ne"/>
        <!--<field name="description" type="long-varchar"/>-->

        <!--PartyNode-->
        <field name="nodeKey" type="id-vlong" not-null="true"/>
        <field name="sourceNodeKey" type="id-vlong"/>
        <field name="ownerNodeKey" type="id-vlong"/>


        <!--modifier==> <field name="lastModifiedDate" type="date-time"/>-->
        <!--modifies ==> <field name="lastModifiedByUserLogin" type="id-vlong"/>-->
        <!--<field name="validator" type="indicator"/>-->
        <field name="baseEndpointUrl" type="value"/>
        <!--<field name="remote" type="indicator"/> removed from project-->
        <field name="nodeType" type="id-ne"/>

        <!--OrganizationNode-->
        <field name="code" type="name"/>

        <!--Company-->
        <!--name ==> groupName-->
        <field name="name" type="name" col-name="NAME_VALUE"/>
        <!-- also on Issuer and IssuerBase -->
        <field name="taxIdentificationNumber" type="name"/>
        <field name="VATnumber" type="name" col-name="VAT_NUMBER"/>

        <!--CompanyBase-->
        <field name="activityNumber" type="name"/>
        <field name="registeredOffice" type="indicator"/>
        <field name="authorizationOwner" type="indicator"/>
        <field name="reaNumber" type="name"/>

        <prim-key field="partyId"/>

        <relation type="one" fk-name="ABN_PARTY" rel-entity-name="Party">
            <key-map field-name="partyId"/>
        </relation>

        <index name="GN_PRT_NODEKEY_IDX" unique="false">
            <index-field name="nodeKey"/>
        </index>
    </entity>

    <entity entity-name="GnPartySecurityGroup"
            package-name="it.memelabs.gn.security.securitygroup"
            title="Security Component - Party Security Group Entity">
        <description>Maps a Party to a security group</description>
        <field name="partyId" type="id-ne"/>
        <field name="groupId" type="id-ne"/>
        <field name="fromDate" type="date-time"/>
        <field name="thruDate" type="date-time"/>
        <prim-key field="partyId"/>
        <prim-key field="groupId"/>
        <prim-key field="fromDate"/>
        <relation type="one" fk-name="PARTY_SECGRP_PARTY" rel-entity-name="Party">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one" fk-name="PARTY_SECGRP_GRP" rel-entity-name="SecurityGroup">
            <key-map field-name="groupId"/>
        </relation>
        <relation type="many" rel-entity-name="SecurityGroupPermission">
            <key-map field-name="groupId"/>
        </relation>
    </entity>


    <!-- Operation -->
    <!-- R1-R14 + D1-D15 -->
    <entity entity-name="GnOperation"
            package-name="it.memelabs.gn.authorization"
            default-resource-name="CommonEntityLabels"
            title="Operation Entity"
            table-name="GN_OPERATION">
        <field name="operationId" type="id-ne"/>
        <field name="operationTypeId" type="id-ne"/>
        <field name="operationCode" type="short-varchar"/>
        <field name="description" type="description"/>

        <prim-key field="operationId"/>
        <relation type="one" fk-name="OPERATION_TO_TYPE" rel-entity-name="GnOperationType">
            <key-map field-name="operationTypeId"/>
        </relation>
    </entity>

    <entity entity-name="GnOperationType"
            package-name="it.memelabs.gn.authorization"
            default-resource-name="CommonEntityLabels"
            title="Operation Type Entity"
            table-name="GN_OPERATION_TYPE">
        <field name="operationTypeId" type="id-ne"/>
        <field name="description" type="description"/>
        <prim-key field="operationTypeId"/>
    </entity>

    <!-- WasteCerCode -->
    <entity entity-name="GnWasteCerCode"
            package-name="it.memelabs.gn.authorization"
            default-resource-name="CommonEntityLabels"
            title="Waste Cer Code Entity"
            table-name="GN_WASTE_CER_CODE">
        <field name="wasteCerCodeId" type="id-ne"/>
        <field name="hazardous" type="indicator"/>
        <field name="cerCode" type="short-varchar"/>
        <field name="description" type="description"/>

        <prim-key field="wasteCerCodeId"/>
    </entity>

    <!-- Packaging -->
    <entity entity-name="GnPackaging"
            package-name="it.memelabs.gn.authorization"
            default-resource-name="CommonEntityLabels"
            title="Packaging Entity"
            table-name="GN_PACKAGING">
        <field name="packagingId" type="id-ne"/>
        <field name="description" type="description"/>

        <prim-key field="packagingId"/>
    </entity>

    <entity entity-name="GnAuthorization"
            package-name="it.memelabs.gn.authorization"
            title="Authorization Entity" table-name="GN_AUTHORIZATION">

        <field name="agreementId" type="id-ne"/>

        <!--AuthorizationKey-->
        <field name="uuid" type="id-vlong" not-null="true"/>
        <field name="parentVersion" type="id-vlong" not-null="true"/>
        <field name="version" type="numeric" not-null="true" col-name="AUTH_VERSION"/>
        <field name="lastModifierNodeKey" type="id-vlong" not-null="true"/>
        <field name="authorizationKey" type="id-vlong" not-null="true"/>
        <field name="ownerNodeKey" type="id-vlong" not-null="true"/>

        <!--AuthorizationKey end-->
        <field name="ownerNodeId" type="id" not-null="true"/>

        <field name="originId" type="id" not-null="true"/>

        <field name="statusId" type="id" not-null="true">
            <description>AuthorizationState</description>
        </field>
        <field name="internalStatusId" type="id" not-null="false">
            <description>InternalAuthorizationState</description>
        </field>
        <field name="typeId" type="id" not-null="true">
            <description>AuthorizationKind</description>
        </field>


        <field name="lastModifiedDate" type="date-time"/>
        <field name="lastModifiedByUserLogin" type="id-vlong"/>
        <field name="publishedDate" type="date-time"/>
        <field name="publishedByUserLogin" type="id-vlong"/>

        <field name="number" type="short-varchar" col-name="AUTH_NUMBER" not-null="true"/>

        <field name="originPartyIdTo" type="id"/>
        <field name="originRoleTypeIdTo" type="id"/>
        <field name="otherPartyIdTo" type="id"/>
        <field name="otherRoleTypeIdTo" type="id"/>

        <field name="isPrivate" type="indicator"/>

        <prim-key field="agreementId"/>

        <relation type="one-nofk" title="ToOrigin" fk-name="" rel-entity-name="Party">
            <key-map field-name="originPartyIdTo" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" title="ToOrigin" rel-entity-name="RoleType">
            <key-map field-name="originRoleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="many" title="ToOrigin" rel-entity-name="PartyRole">
            <key-map field-name="originPartyIdTo" rel-field-name="partyId"/>
            <key-map field-name="originRoleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>

        <relation type="one-nofk" title="ToOther" rel-entity-name="Party">
            <key-map field-name="otherPartyIdTo" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" title="ToOther" rel-entity-name="RoleType">
            <key-map field-name="otherRoleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="many" title="ToOther" rel-entity-name="PartyRole">
            <key-map field-name="otherPartyIdTo" rel-field-name="partyId"/>
            <key-map field-name="otherRoleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>

        <relation type="one" fk-name="AGR_AUTH" rel-entity-name="Agreement">
            <key-map field-name="agreementId"/>
        </relation>
        <relation type="one" fk-name="AUTH_STATUS_ENUM" title="AuthorizationStatus"
                  rel-entity-name="Enumeration">
            <key-map field-name="statusId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_INT_STAT_ENUM" title="AuthorizationInternalStatus"
                  rel-entity-name="Enumeration">
            <key-map field-name="internalStatusId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_ORIGIN_ENUM" title="AuthorizationOrigin"
                  rel-entity-name="Enumeration">
            <key-map field-name="originId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_TYPE_ENUM" title="AuthorizationType"
                  rel-entity-name="Enumeration">
            <key-map field-name="typeId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_LMBUSR" title="LastModifiedBy" rel-entity-name="UserLogin">
            <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
        </relation>
        <relation type="one" fk-name="AUTH_CBUSR" title="ConfirmedBy" rel-entity-name="UserLogin">
            <key-map field-name="publishedByUserLogin" rel-field-name="userLoginId"/>
        </relation>
        <relation type="one" fk-name="AUTH_OWNER" title="OwnedBy" rel-entity-name="Party">
            <key-map field-name="ownerNodeId" rel-field-name="partyId"/>
        </relation>
        <index name="GN_AUTH_KEY_IDX" unique="true">
            <index-field name="authorizationKey"/>
        </index>
        <index name="GN_AUTH_UUID_IDX" unique="false">
            <index-field name="uuid"/>
        </index>
        <index name="GN_AUTH_OWNKEY_IDX" unique="false">
            <index-field name="ownerNodeKey"/>
        </index>


    </entity>

    <entity entity-name="GnAuthorizationItem"
            package-name="it.memelabs.gn.authorization"
            title="Authorization Entity" table-name="GN_AUTH_ITEM">
        <field name="agreementId" type="id-ne"/>
        <field name="agreementItemSeqId" type="id-ne"/>

        <field name="holderRoleId" type="id-ne"/>
        <field name="simplified" type="indicator"/>

        <field name="lastModifiedDate" type="date-time"/>
        <field name="lastModifiedByUserLogin" type="id-vlong"/>

        <field name="categoryClassEnumId" type="id-ne"/>

        <field name="validFromDate" type="date-time"/>
        <field name="validThruDate" type="date-time"/>
        <field name="suspendFromDate" type="date-time"/>
        <field name="suspendThruDate" type="date-time"/>

        <!--<field name="uuid" type="id-vlong" not-null="true"/>-->
        <field name="authorizationItemKey" type="id-vlong" not-null="true"/>

        <prim-key field="agreementId"/>
        <prim-key field="agreementItemSeqId"/>
        <relation type="one" fk-name="AUTH_ITEM_AGR_ITEM" rel-entity-name="AgreementItem">
            <key-map field-name="agreementItemSeqId"/>
            <key-map field-name="agreementId"/>
        </relation>
        <relation type="one" fk-name="AUTH_ITEM_AGRMNT" rel-entity-name="Agreement">
            <key-map field-name="agreementId"/>
        </relation>
        <relation type="one" fk-name="AUTH_ITEM_AUTH_ID" rel-entity-name="GnAuthorization">
            <key-map field-name="agreementId"/>
        </relation>

        <!--produttore trasportatore...-->
        <relation type="one" fk-name="AUTH_HOLDER_ROLE" rel-entity-name="Enumeration">
            <key-map field-name="holderRoleId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_ITEM_LMBUR" title="LastModifiedBy" rel-entity-name="UserLogin">
            <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
        </relation>
        <relation type="one" fk-name="AUTH_ITEM_CAT_ENUM" rel-entity-name="GnCategoryClassEnum">
            <key-map field-name="categoryClassEnumId" rel-field-name="enumId"/>
        </relation>
    </entity>


    <entity entity-name="GnCategoryClassEnum"
            package-name="it.memelabs.authorization"
            title="Category and Classes Entity">
        <field name="enumId" type="id-ne"/>
        <field name="sequenceId" type="id"/>
        <field name="categoryCode" type="short-varchar"/>
        <field name="subCategoryCode" type="short-varchar"/>
        <field name="classCode" type="short-varchar"/>
        <field name="categoryDescription" type="description"/>
        <field name="classDescription" type="description"/>
        <prim-key field="enumId"/>
    </entity>

    <entity entity-name="GnAuthorizationTerm" package-name="it.memelabs.authorization"
            title="Authorization Term Entity">
        <field name="agreementTermId" type="id-ne"/>
        <field name="inclusive" type="indicator"/>
        <field name="hazardousnessTypeId" type="id"/>
        <field name="timeFrequencyUomId" type="id">
            <description>TIME_FREQ_MEASURE UomType</description>
        </field>
        <field name="weightUomId" type="id">
            <description>WEIGHT_MEASURE UomType</description>
        </field>
        <field name="subjectRoleId" type="id"/>
        <field name="authorizationTermKey" type="id-vlong" not-null="true"/>
        <field name="lastModifiedDate" type="date-time"/>
        <field name="lastModifiedByUserLogin" type="id-vlong"/>
        <field name="minValue" type="fixed-point"/>
        <field name="maxValue" type="fixed-point"/>

        <prim-key field="agreementTermId"/>

        <relation type="one" fk-name="AUT_TRM_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>

        <relation type="one" fk-name="AGR_ITM_TRM_TF_UOM" rel-entity-name="Uom" title="TF_UOM">
            <key-map field-name="timeFrequencyUomId" rel-field-name="uomId"/>
        </relation>
        <relation type="one" fk-name="AGR_ITM_TRM_WG_UOM" rel-entity-name="Uom" title="WG_UOM">
            <key-map field-name="weightUomId" rel-field-name="uomId"/>
        </relation>
        <relation type="one" fk-name="AGR_TRM_HAZ_ENUM" title="HazardousnessType"
                  rel-entity-name="Enumeration">
            <key-map field-name="hazardousnessTypeId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AGR_TRM_SBJRL_ENUM" title="SubjectRole"
                  rel-entity-name="Enumeration">
            <key-map field-name="subjectRoleId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="AUTH_TERM_LMBUR" title="LastModifiedBy" rel-entity-name="UserLogin">
            <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
        </relation>
    </entity>

    <entity entity-name="GnOperationAgreementTermAssoc"
            package-name="it.memelabs.gn.authorization" no-auto-stamp="true"
            title="Agreement Operation Term Entity" table-name="GN_OP_AGR_TERM_ASS">
        <field name="agreementTermId" type="id-ne"/>
        <field name="operationId" type="id-ne"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="operationId"/>

        <relation type="one" fk-name="OP_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="OP_AGRMNT_OP" rel-entity-name="GnOperation">
            <key-map field-name="operationId"/>
        </relation>
    </entity>

    <entity entity-name="GnPackagingAgreementTermAssoc"
            package-name="it.memelabs.gn.authorization" no-auto-stamp="true"
            title="Agreement Packaging Term Entity" table-name="GN_PKG_AGR_TERM_ASS">
        <field name="agreementTermId" type="id-ne"/>
        <field name="packagingId" type="id-ne"/>

        <prim-key field="agreementTermId"/>
        <prim-key field="packagingId"/>

        <relation type="one" fk-name="PKG_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="PKG_AGRMNT_PKG" rel-entity-name="GnPackaging">
            <key-map field-name="packagingId"/>
        </relation>
    </entity>

    <entity entity-name="GnWasteCerCodeAgreementTermAssoc"
            package-name="it.memelabs.gn.authorization" no-auto-stamp="true"
            title="Agreement Waste Cer Code Term Entity" table-name="GN_WASTE_AGR_TRM_ASS">
        <field name="agreementTermId" type="id-ne"/>
        <field name="wasteCerCodeId" type="id-ne"/>

        <prim-key field="agreementTermId"/>
        <prim-key field="wasteCerCodeId"/>

        <relation type="one" fk-name="WST_AGRMNT_TRM_WCC" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="WST_AGRMNT_WST" rel-entity-name="GnWasteCerCode">
            <key-map field-name="wasteCerCodeId"/>
        </relation>
    </entity>

    <entity entity-name="GnRegistrationNumberAgreementTerm" package-name="it.memelabs.gn.authorization"
            table-name="GN_REG_NUM_AGREEMENT_TERM">
        <field name="agreementTermId" type="id-ne" not-null="true"/>
        <field name="registrationNumber" type="id" not-null="true"/>
        <field name="termTypeId" type="id" not-null="true"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="registrationNumber"/>

        <relation type="one" fk-name="REG_LIC_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="REG_LIC_AGR_TRM_TP" rel-entity-name="TermType">
            <key-map field-name="termTypeId"/>
        </relation>
    </entity>

    <!--GnSubjectTypeAgreementTermAssoc can be the same with GnSubjectTypeAgreementTermAssoc-->
    <!--used in: SubjectTypeConstraint -->
    <entity entity-name="GnSubjectTypeAgreementTermAssoc" package-name="it.memelabs.gn.authorization"
            table-name="GN_SBJCT_TYPE_AGRMNT_TERM_ASS" no-auto-stamp="true">
        <field name="agreementTermId" type="id-ne"/>
        <field name="subjectTypeId" type="id-ne"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="subjectTypeId"/>

        <relation type="one" fk-name="ST_AGRMNT_TRM_ST" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="ST_AGRMNT_ENUM" rel-entity-name="Enumeration">
            <key-map field-name="subjectTypeId" rel-field-name="enumId"/>
        </relation>
    </entity>

    <!--used in: HolderConstraint SubjectCompanyConstraint-->
    <entity entity-name="GnSubjectPartyNodeAgreementTermAssoc" package-name="it.memelabs.gn.authorization"
            table-name="GN_SBJCT_PRT_ND_AGMNT_TERM_ASS" no-auto-stamp="true">
        <field name="agreementTermId" type="id-ne"/>
        <field name="partyId" type="id-ne"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="partyId"/>

        <relation type="one" fk-name="PN_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="PN_AGRMNT_PRT_NODE" rel-entity-name="GnPartyNode">
            <key-map field-name="partyId"/>
        </relation>
    </entity>

    <!--used in: HolderConstraint -->
    <entity entity-name="GnGeoAgreementTermAssoc" package-name="it.memelabs.gn.authorization"
            table-name="GN_GEO_AGMNT_TERM_ASS" no-auto-stamp="true">
        <field name="agreementTermId" type="id-ne"/>
        <field name="geoId" type="id-ne"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="geoId"/>

        <relation type="one" fk-name="GEO_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="AGRMNT_TRM_GEO" rel-entity-name="Geo">
            <key-map field-name="geoId"/>
        </relation>
    </entity>

    <!--used in: GnCategoryClassEnumTerm -->
    <entity entity-name="GnCategoryClassEnumTermAssoc" package-name="it.memelabs.gn.authorization"
            table-name="GN_CAT_CL_EN_TERM_ASS" no-auto-stamp="true">
        <field name="agreementTermId" type="id-ne"/>
        <field name="categoryClassEnumId" type="id-ne"/>
        <prim-key field="agreementTermId"/>
        <prim-key field="categoryClassEnumId"/>

        <relation type="one" fk-name="CATCLEN_AGRMNT_TRM" rel-entity-name="AgreementTerm">
            <key-map field-name="agreementTermId"/>
        </relation>
        <relation type="one" fk-name="AGRMNT_TRM_CATCLEN" rel-entity-name="GnCategoryClassEnum">
            <key-map field-name="categoryClassEnumId" rel-field-name="enumId"/>
        </relation>
    </entity>


    <entity entity-name="GnAgreementContentType" package-name="it.memelabs.gn.authorization"
            title="Agreement Content Type Entity">
        <field name="agreementContentTypeId" type="id-ne"/>
        <field name="parentTypeId" type="id"/>
        <field name="description" type="description"/>
        <prim-key field="agreementContentTypeId"/>

        <relation type="one" fk-name="AGRMNT_TP_PAR" title="Parent" rel-entity-name="GnAgreementContentType">
            <key-map field-name="parentTypeId" rel-field-name="agreementContentTypeId"/>
        </relation>
    </entity>

    <entity entity-name="GnAgreementContent" package-name="it.memelabs.gn.authorization"
            title="Agreement Content Entity">
        <field name="agreementId" type="id-ne"/>
        <field name="contentId" type="id-ne"/>
        <field name="agreementContentTypeId" type="id-ne"/>
        <field name="fromDate" type="date-time"/>
        <field name="thruDate" type="date-time"/>
        <field name="uploadedByUserLogin" type="id-vlong"/>
        <prim-key field="agreementId"/>
        <prim-key field="contentId"/>
        <prim-key field="agreementContentTypeId"/>
        <prim-key field="fromDate"/>

        <relation type="one" fk-name="AGRMNT_CNT_AGRMNT" rel-entity-name="Agreement">
            <key-map field-name="agreementId"/>
        </relation>
        <relation type="one" fk-name="AGRMNT_CNT_CNT" rel-entity-name="Content">
            <key-map field-name="contentId"/>
        </relation>
        <relation type="one" fk-name="AGRMNT_CNT_AGCTP" rel-entity-name="GnAgreementContentType">
            <key-map field-name="agreementContentTypeId"/>
        </relation>
        <relation type="one" fk-name="AUTH_UPLBUSR" title="uploadByUserLogin" rel-entity-name="UserLogin">
            <key-map field-name="uploadedByUserLogin" rel-field-name="userLoginId"/>
        </relation>

    </entity>


    <!-- Party Invitation Email -->
    <entity entity-name="GnPartyInvitationEmail"
            package-name="it.memelabs.gn.party"
            title="Party Invitation Email Entity">
        <field name="partyInvitationId" type="id-ne"/>
        <field name="partyInvitationSeqId" type="id-ne"/>
        <field name="emailAddress" type="long-varchar"/>
        <prim-key field="partyInvitationId"/>
        <prim-key field="partyInvitationSeqId"/>
        <relation type="one" fk-name="GN_PRT_INV_EL_P_IV" rel-entity-name="PartyInvitation">
            <key-map field-name="partyInvitationId"/>
        </relation>
    </entity>


    <!--it's similar to EmailTemplateSetting-->
    <entity entity-name="GnMessageTemplateSetting" package-name="it.memelabs.gn.email"
            title="Email Template Setting Entity">
        <field name="messageTemplateSettingId" type="id-ne"/>
        <field name="description" type="description"/>
        <!--<field name="bodyScreenLocation" type="long-varchar"><description>if empty defaults to a screen based on the emailType</description></field>
        <field name="xslfoAttachScreenLocation" type="long-varchar"><description>if specified is used to generate XSL:FO that is transformed to a PDF via Apache FOP and attached to the email</description></field>-->
        <field name="fromAddress" type="email"/>
        <field name="ccAddress" type="email"/>
        <field name="bccAddress" type="email"/>
        <field name="subject" type="comment"/>
        <field name="message" type="very-long" col-name="TMPL_MESSAGE"/>
        <field name="contentType" type="long-varchar"/>
        <prim-key field="messageTemplateSettingId"/>
    </entity>

    <entity entity-name="GnMessageTemplateSettingPartyAssoc" package-name="it.memelabs.gn.party"
            table-name="GN_MSG_TEMP_SET_PARTY_ASSOC">
        <field name="messageTemplateSettingId" type="id-ne"/>
        <field name="partyId" type="id-ne" not-null="true"/>
        <prim-key field="messageTemplateSettingId"/>
        <prim-key field="partyId"/>
        <relation type="one" fk-name="GNMSGTMPSETASSMST" rel-entity-name="GnMessageTemplateSetting">
            <key-map field-name="messageTemplateSettingId"/>
        </relation>
        <relation type="one" fk-name="GNMSGTEMPSETASSPRT" rel-entity-name="Party">
            <key-map field-name="partyId"/>
        </relation>
    </entity>


    <entity entity-name="GnAuthorizationFilter"
            package-name="it.memelabs.gn.authorization"
            table-name="GN_AUTH_FILTER">

        <field name="partyIdFrom" type="id-ne"/>
        <field name="partyIdTo" type="id-ne"/>
        <field name="roleTypeIdFrom" type="id-ne"/>
        <field name="roleTypeIdTo" type="id-ne"/>
        <field name="fromDate" type="date-time"/>
        <field name="agreementId" type="id-ne"/>
        <field name="filterKey" type="id-vlong" not-null="true"/>
        <prim-key field="agreementId"/>

        <relation type="one" fk-name="AGRMNT_PRT_REL_ASS" rel-entity-name="PartyRelationship">
            <key-map field-name="roleTypeIdFrom"/>
            <key-map field-name="roleTypeIdTo"/>
            <key-map field-name="partyIdFrom"/>
            <key-map field-name="partyIdTo"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation type="one" fk-name="PRT_REL_AGRMNT_ASS" rel-entity-name="Agreement">
            <key-map field-name="agreementId"/>
        </relation>

    </entity>

    <!--communication-->
    <entity entity-name="GnContactListCommunicationEventTypeAssoc"
            package-name="it.memelabs.gn.communication"
            table-name="GN_CONT_LIST_COMM_EV_TYPE_ASS">

        <field name="contactListId" type="id-ne"/>
        <field name="communicationEventTypeId" type="id-ne"/>

        <prim-key field="contactListId"/>
        <prim-key field="communicationEventTypeId"/>

        <relation type="one" fk-name="CM_EV_TY_CT_LST_AS" rel-entity-name="ContactList">
            <key-map field-name="contactListId"/>
        </relation>
        <relation type="one" fk-name="CT_LST_CM_EV_TY_AS" rel-entity-name="CommunicationEventType">
            <key-map field-name="communicationEventTypeId"/>
        </relation>
    </entity>

    <entity entity-name="GnContactListEventTypeAssoc"
            package-name="it.memelabs.gn.communication"
            table-name="GN_CONT_LIST_EVENT_TYPE_ASS">

        <field name="contactListId" type="id-ne"/>
        <field name="enumId" type="id-ne"/>

        <prim-key field="contactListId"/>
        <prim-key field="enumId"/>

        <relation type="one" fk-name="EV_TYP_CT_LST_ASS" rel-entity-name="ContactList">
            <key-map field-name="contactListId"/>
        </relation>
        <relation type="one" fk-name="CT_LST__EV_TYP_ASS" rel-entity-name="Enumeration">
            <key-map field-name="enumId"/>
        </relation>
    </entity>

    <entity entity-name="GnCommunicationEventAttribute"
            package-name="it.memelabs.gn.communication"
            title="Communication Event Attribute Entity"
            table-name="GN_COMM_EVENT_ATTRIBUTE">
        <field name="communicationEventId" type="id-ne"/>
        <field name="attrName" type="id-long-ne"/>
        <field name="attrValue" type="very-long"/>
        <field name="attrTypeId" type="id-ne" not-null="false"/>

        <prim-key field="communicationEventId"/>
        <prim-key field="attrName"/>

        <relation type="one" fk-name="COMM_EVNT_ATTR" rel-entity-name="CommunicationEvent">
            <key-map field-name="communicationEventId"/>
        </relation>
        <relation type="one" fk-name="COM_EV_ATTRTY_ENUM" rel-entity-name="Enumeration">
            <key-map field-name="attrTypeId" rel-field-name="enumId"/>
        </relation>
    </entity>

    <entity entity-name="GnUserLoginPasswordReset"
            package-name="it.memelabs.gn.security"
            title="User Password Reset Entity">
        <field name="userLoginId" type="id-vlong"/>
        <field name="uuid" type="id-vlong-ne"/>
        <prim-key field="uuid"/>
        <relation rel-entity-name="UserLogin" type="one" fk-name="GN_USR_LGN_RST">
            <key-map field-name="userLoginId" rel-field-name="userLoginId"/>
        </relation>
    </entity>

    <entity entity-name="GnApplicationProperty"
            package-name="it.memelabs.gn.system"
            title="Application property">
        <field name="name" col-name="PROP_NAME" type="id-vlong" not-null="true"/>
        <field name="value" col-name="PROP_VALUE" type="description" not-null="true"/>
        <field name="comment" col-name="PROP_COMMENT" type="description" not-null="false"/>
        <prim-key field="name"/>
    </entity>

    <entity entity-name="GnServiceInvocationLog"
            package-name="it.memelabs.gn.system"
            title="Service invocation log property" no-auto-stamp="true">
        <field name="serviceName" type="id-vlong" not-null="true"/>
        <field name="userLoginId" type="id-vlong" not-null="true"/>
        <field name="contextId" type="id-ne" not-null="true"/>
        <field name="invocationDate" type="date-time"/>
        <prim-key field="serviceName"/>
        <prim-key field="userLoginId"/>
        <prim-key field="contextId"/>
        <prim-key field="invocationDate"/>
        <relation rel-entity-name="UserLogin" type="one" fk-name="GN_SIL_ULG">
            <key-map field-name="userLoginId" rel-field-name="userLoginId"/>
        </relation>
        <relation rel-entity-name="Party" type="one" fk-name="GN_SIL_PRT">
            <key-map field-name="contextId" rel-field-name="partyId"/>
        </relation>
    </entity>

    <entity entity-name="GnEventMessage"
            package-name="it.memelabs.gn.services.event"
            title="Service Message Event" no-auto-stamp="true">
        <field name="id" type="numeric" not-null="true"/>
        <field name="timestamp" type="numeric" not-null="true" col-name="EM_TIMESTAMP"/>
        <field name="type" type="id-ne" not-null="true" col-name="EM_TYPE"/>
        <field name="sender" type="id-ne" not-null="true"/>
        <field name="invocationDate" type="date-time"/>
        <prim-key field="id"/>
        <prim-key field="timestamp"/>
    </entity>

    <entity entity-name="GnUserLoginSource"
            package-name="it.memelabs.gn.user"
            title="UserLogin to LoginSourceId" no-auto-stamp="true">
        <field name="userLoginId" type="id-vlong-ne"/>
        <field name="enumId" type="id-ne"/>
        <prim-key field="userLoginId"/>
        <prim-key field="enumId"/>
        <relation type="one" fk-name="LGN_SRC_TO_USRLGN" rel-entity-name="UserLogin">
            <key-map field-name="userLoginId" rel-field-name="userLoginId"/>
        </relation>
        <relation type="one" fk-name="LOGIN_SRC_TO_ENUM" rel-entity-name="Enumeration">
            <key-map field-name="enumId"/>
        </relation>
    </entity>

    <entity entity-name="GnUserLoginDeviceUniqueId"
            package-name="it.memelabs.gn.user"
            title="Device id to UserLogin" no-auto-stamp="false">
        <field name="userLoginId" type="id-vlong-ne" not-null="true"/>
        <field name="deviceId" type="id-vlong-ne" not-null="true"/>
        <field name="isActive" type="indicator" not-null="true"/>
        <field name="deviceDescription" type="description" not-null="false"/>
        <field name="appId" type="id-long" not-null="false"/>
        <field name="appVersion" type="id-long" not-null="false"/>
        <prim-key field="userLoginId"/>
        <!--<prim-key field="appId"/>-->
        <prim-key field="deviceId"/>
        <relation type="one" fk-name="DEVID_TO_USERLOGIN" rel-entity-name="UserLogin">
            <key-map field-name="userLoginId"/>
        </relation>
    </entity>


    <entity entity-name="GnActivityJob"
            package-name="it.memelabs.gn.job"
            title="Gn Job" no-auto-stamp="false">
        <field name="jobId" type="id-ne" not-null="true"/>
        <field name="jobStatusId" type="id-long-ne" not-null="true"/>
        <field name="jobTypeId" type="id-long-ne" not-null="true"/>
        <field name="commitRequired" type="indicator" not-null="true"/>

        <field name="referenceKey" type="very-long" not-null="false"/>

        <field name="expectedAck" type="numeric" not-null="true"/>
        <field name="fail" type="numeric" not-null="true"/>
        <field name="success" type="numeric" not-null="true"/>
        <field name="failMessage" type="very-long" not-null="false"/>

        <field name="consumed" type="date-time" col-name="CONSUMED_STAMP" not-null="false"/>
        <field name="scheduled" type="date-time" col-name="SCHEDULED_STAMP" not-null="true"/>
        <prim-key field="jobId"/>

        <relation type="one" fk-name="ACT_JOB_TO_ST_ENUM" rel-entity-name="GnEnumeration" title="ACT_JOB_TO_ST_ENUM">
        <key-map field-name="jobStatusId" rel-field-name="enumId"/>
        </relation>
        <relation type="one" fk-name="ACT_JOB_TO_TY_ENUM" rel-entity-name="GnEnumeration" title="ACT_JOB_TO_TY_ENUM">
            <key-map field-name="jobTypeId" rel-field-name="enumId"/>
        </relation>

        <index name="GNACTJOBREFKEY_IDX">
            <index-field name="referenceKey"/>
        </index>
    </entity>

    <entity entity-name="GnActivityJobAttribute" package-name="it.memelabs.gn.job"
            title="Gn Job" no-auto-stamp="true">
        <field name="jobId" type="id-ne" not-null="true"/>
        <field name="attrName" type="id-long-ne" not-null="true"/>
        <field name="attrValue" type="very-long"/>
        <field name="attrTypeId" type="id-ne" not-null="false"/>

        <prim-key field="jobId"/>
        <prim-key field="attrName"/>

        <relation type="one" fk-name="ATTR_TO_ACT_JOB" rel-entity-name="GnActivityJob">
            <key-map field-name="jobId"/>
        </relation>

        <relation type="one" fk-name="ACT_JOB_ATRTY_ENUM" rel-entity-name="Enumeration">
            <key-map field-name="attrTypeId" rel-field-name="enumId"/>
        </relation>


    </entity>

    <!--GnEnumeration and GnEnumerationType
    is like enumeration but has id more long-->

    <entity entity-name="GnEnumeration"
            package-name="it.memelabs.gn.common.enum"
            default-resource-name="CommonEntityLabels"
            title="Enumeration Entity">
        <field name="enumId" type="id-long-ne"/>
        <field name="enumTypeId" type="id-long-ne"/>
        <field name="enumCode" type="short-varchar"/>
        <field name="sequenceId" type="id"/>
        <field name="description" type="description"/>
        <prim-key field="enumId"/>
        <relation type="one" fk-name="GN_ENUM_TO_TYPE" rel-entity-name="GnEnumerationType">
            <key-map field-name="enumTypeId"/>
        </relation>
    </entity>

    <entity entity-name="GnEnumerationType"
            package-name="it.memelabs.gn.common.enum"
            default-resource-name="CommonEntityLabels"
            title="Enumeration Type Entity">
        <field name="enumTypeId" type="id-long-ne"/>
        <field name="parentTypeId" type="id-long-ne"/>
        <field name="hasTable" type="indicator"/>
        <field name="description" type="description"/>
        <prim-key field="enumTypeId"/>
        <relation type="one" fk-name="GNENUM_TYPE_PARENT" title="Parent" rel-entity-name="GnEnumerationType">
            <key-map field-name="parentTypeId" rel-field-name="enumTypeId"/>
        </relation>
    </entity>
</entitymodel>
