<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of Gn Component</title>
    <description>None</description>
    <copyright>Memelabs.it</copyright>
    <version>1.0</version>

    <extend-entity entity-name="Content">
        <field name="contentSize" type="numeric"/>
    </extend-entity>

    <extend-entity entity-name="PartyRelationship">
        <field name="validationRequired" type="indicator"/>
        <field name="synchronizationAllowed" type="indicator"/>
        <field name="synchronizationActive" type="indicator"/>
        <field name="acceptAllIfEmptyFilters" type="indicator" col-name="ACPT_ALL_IF_NOFILTER"/>
    </extend-entity>

    <extend-entity entity-name="PostalAddress">

        <!--Country//stato-->

        <!--Region/regione-->
        <field name="foreignRegion" type="name"/>
        <field name="regionGeoId" type="id"/>

        <!--StateProvince//provincia (/state per estero) -->
        <field name="foreignProvince" type="name"/>

        <!--Municipality//comune (/city per estero)-->
        <field name="municipalityGeoId" type="id"/>

        <!--Street//via -->

        <field name="streetNumber" type="name"/>

        <field name="village" type="name"/>

        <!--PostalCode//zip/postal code -->

        <relation type="one" fk-name="POST_ADDR_REGGEO" title="Region" rel-entity-name="Geo">
            <key-map field-name="regionGeoId" rel-field-name="geoId"/>
        </relation>
        <relation type="one" fk-name="POST_ADDR_MUNGEO" title="Municipality" rel-entity-name="Geo">
            <key-map field-name="municipalityGeoId" rel-field-name="geoId"/>
        </relation>
        <!--city <==> municipality-->
    </extend-entity>

    <extend-entity entity-name="UserLogin">
        <field name="activeContextId" type="id"/>
        <field name="originId" type="id" not-null="false"/>
        <field name="salt" type="id" not-null="false"/>
        <field name="loginSourceId" type="id" not-null="false"/>
        <relation type="one" fk-name="USER_CONTEXT" rel-entity-name="Party" title="UserContextRel">
            <key-map field-name="activeContextId" rel-field-name="partyId"/>
        </relation>
        <relation type="one" fk-name="UL_AUTH_ORG_ENUM" title="AuthorizationOriginEnum"
                  rel-entity-name="Enumeration">
            <key-map field-name="originId" rel-field-name="enumId"/>
        </relation>
        <!--  <relation type="one" fk-name="UL_AUTH_LOG_SRC_EN" title="LoginSourceEnum"
                    rel-entity-name="Enumeration">
              <key-map field-name="loginSourceId" rel-field-name="enumId"/>
          </relation>-->
    </extend-entity>

    <extend-entity entity-name="PartyInvitation">
        <field name="uuid" type="id-vlong" not-null="true"/>
        <field name="message" type="very-long" col-name="INV_MESSAGE"/>
        <field name="subject" type="description"/>
        <field name="expirationDate" type="date-time"/>
        <field name="acceptanceDate" type="date-time"/>
        <field name="nodePartyIdFrom" type="id" not-null="false"/>
        <field name="userLoginIdFrom" type="id-vlong" not-null="false"/>
        <field name="geoCode" type="name"/>

        <relation type="one" fk-name="PRT_INV_USRLGN_FRM" rel-entity-name="UserLogin">
            <key-map field-name="userLoginIdFrom" rel-field-name="userLoginId"/>
        </relation>
        <!--invitiation sent by this node; different from partyIdFrom which is the company inviter-->
    </extend-entity>

    <extend-entity entity-name="CommunicationEventPurpose">
        <field name="eventTypeId" type="id"/>
        <relation type="one" fk-name="COM_EVNT_EV_TYPE" rel-entity-name="Enumeration">
            <key-map field-name="eventTypeId" rel-field-name="enumId"/>
        </relation>
    </extend-entity>


</entitymodel>