<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/services.xsd">
    <description>Gn Services</description>
    <version>1.0</version>

    <service name="gnLogin" engine="java" auth="true"
             location="it.memelabs.gn.services.security.AuthenticationServices"
             invoke="gnLogin" export="true" use-transaction="true">
        <description>Check Login and return user contexts (GnContext) list</description>

        <attribute name="request" type="javax.servlet.http.HttpServletRequest" mode="IN" optional="false"/>
        <attribute name="loginSourceId" type="java.lang.String" mode="IN" optional="false"
                   default-value="GN_LOG_SRC_WEB_UI"/>
        <attribute name="deviceId" type="java.lang.String" mode="IN" optional="true"/>
        <attribute name="deviceDescription" type="String" mode="IN" optional="true"/>
        <attribute name="appId" type="String" mode="IN" optional="true"/>
        <attribute name="appVersion" type="String" mode="IN" optional="true"/>
        <attribute name="login_password" type="String" mode="IN" optional="true"/>

        <attribute name="sessionId" type="java.lang.String" mode="OUT" optional="false"/>
        <attribute name="lastName" type="java.lang.String" mode="OUT" optional="false"/>
        <attribute name="firstName" type="java.lang.String" mode="OUT" optional="false"/>
        <attribute name="userLoginId" type="java.lang.String" mode="OUT" optional="false"/>
        <!--default context-->
        <attribute name="contextId" type="java.lang.String" mode="OUT" optional="true"/>
        <attribute name="contexts" type="java.util.List" mode="OUT" optional="false" entity-name="GnContext">
            <description>see GnContext</description>
        </attribute>
        <attribute name="contact" type="java.util.Map" mode="OUT" optional="true"/>
        <attribute name="company" type="java.util.Map" mode="OUT" optional="true"/>
        <attribute name="companyProfile" type="java.util.Map" mode="OUT" optional="true"/>
        <attribute name="passwordExpirationDays" type="java.lang.Integer" mode="OUT" optional="true"/>
    </service>

    <service name="gnSimpleLogin" engine="java" auth="true"
             location="it.memelabs.gn.services.security.AuthenticationServices"
             invoke="gnSimpleLogin" export="true" use-transaction="true">
        <description>Check Login</description>
        <attribute name="loginSourceId" type="java.lang.String" mode="IN" optional="false"
                   default-value="GN_LOG_SRC_WEB_UI"/>
        <attribute name="request" type="javax.servlet.http.HttpServletRequest" mode="IN" optional="false"/>
        <attribute name="deviceId" type="java.lang.String" mode="IN" optional="true"/>
        <attribute name="deviceDescription" type="String" mode="IN" optional="true"/>
        <attribute name="appId" type="String" mode="IN" optional="true"/>
        <attribute name="appVersion" type="String" mode="IN" optional="true"/>

        <attribute name="sessionId" type="java.lang.String" mode="OUT" optional="false"/>
    </service>

    <service name="gnLogout" engine="java" auth="true"
             location="it.memelabs.gn.services.security.AuthenticationServices"
             invoke="gnLogout" export="true" use-transaction="true">
        <description>Check Logout</description>
        <attribute name="request" type="javax.servlet.http.HttpServletRequest" mode="IN" optional="false"/>
        <attribute name="result" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="gnRollbackDb" engine="java" auth="false"
             location="it.memelabs.gn.services.security.AuthenticationServices"
             invoke="gnRollbackDb" export="true">
        <description>gnRollbackDb</description>
        <attribute name="result" type="String" mode="OUT" optional="true"/>
    </service>
</services>